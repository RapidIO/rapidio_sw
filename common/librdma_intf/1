  /* First, obtain an outbound handle from the mport driver */
  int ret = riomp_dma_obwin_map(m_mp_h, &obwin.rio_address, size, &obwin.win_handle);
  if (ret) {
    XCRIT("Failed to map obwin %d:%s", ret, strerror(errno));
    return false;
  };

  /* Memory-map the outbound window */
  ret = riomp_dma_map_memory(m_mp_h, size, obwin.win_handle, &obwin.win_ptr);
  if (ret) {
    riomp_dma_obwin_free(m_mp_h, &obwin.win_handle);
    XCRIT("Failed to memory map obwin %d:%s", ret, strerror(errno));
    return false;
  };

  obwin.type = OBWIN;
  obwin.win_size = size;

  return true;
